[build]
  publish = "client/dist"
  command = "pnpm run build"

# Serve static blog OG files for social media crawlers
# These take precedence over the SPA fallback
[[redirects]]
  from = "/blog/*"
  to = "/blog/:splat/index.html"
  status = 200
  force = false

# SPA fallback for client-side routing (only if no static file exists)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = false
